<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Regular expression</title>

  <meta property="description" itemprop="description" content="Introduction to working with character strings and regular expressions inR"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-10-07"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-10-07"/>
  <meta name="article:author" content="Stephanie Hicks"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Regular expression"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Introduction to working with character strings and regular expressions inR"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Regular expression"/>
  <meta property="twitter:description" content="Introduction to working with character strings and regular expressions inR"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","categories"]}},"value":[{"type":"character","attributes":{},"value":["Regular expression"]},{"type":"character","attributes":{},"value":["Introduction to working with character strings and regular expressions inR\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Stephanie Hicks"]},{"type":"character","attributes":{},"value":["https://stephaniehicks.com/"]},{"type":"character","attributes":{},"value":["Department of Biostatistics, Johns Hopkins"]},{"type":"character","attributes":{},"value":["https://www.jhsph.edu"]}]}]},{"type":"character","attributes":{},"value":["10-07-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_depth"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]}]}]},{"type":"character","attributes":{},"value":["module 2","week 6","tidyverse","R","programming","strings and regex"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["regular-expressions_files/anchor-4.2.2/anchor.min.js","regular-expressions_files/bowser-1.9.3/bowser.min.js","regular-expressions_files/distill-2.2.21/template.v2.js","regular-expressions_files/header-attrs-2.10/header-attrs.js","regular-expressions_files/jquery-1.11.3/jquery.min.js","regular-expressions_files/popper-2.6.0/popper.min.js","regular-expressions_files/tippy-6.2.7/tippy-bundle.umd.min.js","regular-expressions_files/tippy-6.2.7/tippy-light-border.css","regular-expressions_files/tippy-6.2.7/tippy.css","regular-expressions_files/tippy-6.2.7/tippy.umd.min.js","regular-expressions_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="regular-expressions_files/header-attrs-2.10/header-attrs.js"></script>
  <script src="regular-expressions_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="regular-expressions_files/popper-2.6.0/popper.min.js"></script>
  <link href="regular-expressions_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="regular-expressions_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="regular-expressions_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="regular-expressions_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="regular-expressions_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="regular-expressions_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="regular-expressions_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Regular expression","description":"Introduction to working with character strings and regular expressions inR","authors":[{"author":"Stephanie Hicks","authorURL":"https://stephaniehicks.com/","affiliation":"Department of Biostatistics, Johns Hopkins","affiliationURL":"https://www.jhsph.edu","orcidID":""}],"publishedDate":"2021-10-07T00:00:00.000+00:00","citationText":"Hicks, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Regular expression</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">module 2</div>
<div class="dt=tag">week 6</div>
<div class="dt=tag">tidyverse</div>
<div class="dt=tag">R</div>
<div class="dt=tag">programming</div>
<div class="dt=tag">strings and regex</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Introduction to working with character strings and regular expressions inR</p></p>
</div>

<div class="d-byline">
  Stephanie Hicks <a href="https://stephaniehicks.com/" class="uri">https://stephaniehicks.com/</a> (Department of Biostatistics, Johns Hopkins)<a href="https://www.jhsph.edu" class="uri">https://www.jhsph.edu</a>
  
<br/>10-07-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#pre-lecture-materials">Pre-lecture materials</a>
<ul>
<li><a href="#read-ahead">Read ahead</a></li>
<li><a href="#acknowledgements">Acknowledgements</a></li>
</ul></li>
<li><a href="#learning-objectives">Learning objectives</a></li>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#regex-basics">regex basics</a></li>
<li><a href="#string-basics">string basics</a></li>
</ul></li>
<li><a href="#grepl"><code>grepl()</code></a>
<ul>
<li><a href="#metacharacters">metacharacters</a></li>
<li><a href="#repetition">repetition</a></li>
<li><a href="#capture-group">capture group</a></li>
<li><a href="#character-sets">character sets</a></li>
<li><a href="#brackets">brackets</a></li>
<li><a href="#ranges">ranges</a></li>
<li><a href="#beginning-and-end">beginning and end</a></li>
<li><a href="#or-metacharacter">OR metacharacter</a></li>
</ul></li>
<li><a href="#other-regex-in-base-r">Other regex in base R</a>
<ul>
<li><a href="#grep"><code>grep()</code></a></li>
<li><a href="#sub"><code>sub()</code></a></li>
<li><a href="#gsub"><code>gsub()</code></a></li>
<li><a href="#strsplit"><code>strsplit()</code></a></li>
</ul></li>
<li><a href="#the-stringr-package">The stringr package</a></li>
<li><a href="#post-lecture-materials">Post-lecture materials</a>
<ul>
<li><a href="#final-questions">Final Questions</a></li>
<li><a href="#additional-resources">Additional Resources</a></li>
</ul></li>
</ul>
</nav>
</div>
<!-- Add interesting quote -->
<h1 id="pre-lecture-materials">Pre-lecture materials</h1>
<h3 id="read-ahead">Read ahead</h3>
<div class="resources">
<p><strong>Before class, you can prepare by reading the following materials:</strong></p>
<ol type="1">
<li><a href="https://r4ds.had.co.nz/strings.html" class="uri">https://r4ds.had.co.nz/strings.html</a></li>
</ol>
</div>
<h3 id="acknowledgements">Acknowledgements</h3>
<p>Material for this lecture was borrowed and adopted from</p>
<ul>
<li><a href="https://rdpeng.github.io/Biostat776/lecture-regular-expressions.html" class="uri">https://rdpeng.github.io/Biostat776/lecture-regular-expressions.html</a></li>
<li><a href="https://r4ds.had.co.nz/strings.html" class="uri">https://r4ds.had.co.nz/strings.html</a></li>
</ul>
<h1 id="learning-objectives">Learning objectives</h1>
<div class="keyideas">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Understand what is a regular expression and how to create one</li>
<li>Learn the basics of searching for patterns in character strings in base R and the <code>stringr</code> R package in the <code>tidyverse</code></li>
<li>Use the built in character sets to search for patterns in strings including <code>"\n"</code>, <code>"\t"</code>, <code>"\w"</code>, <code>"\d"</code>, and <code>"\s"</code></li>
</ul>
</div>
<h1 id="introduction">Introduction</h1>
<h3 id="regex-basics">regex basics</h3>
<p>Now that we have covered the basics of string manipulation in R, let’s discuss the more advanced topic of regular expressions.</p>
<p>A <strong>regular expression</strong> (also known as a “regex” or “regexp”) is a concise language for describing patterns in character strings. For example, a regex are patterns that could be contained within another string. A regular expression can be used for e.g. </p>
<ul>
<li>searching for a pattern or string within another string (e.g searching for the string “a” in the string “Maryland”)</li>
<li>replacing one part of a string with another string (e.g replacing the string “t” with “p” in the string “hot” where you are changing the string “hot” to “hop”)</li>
</ul>
<p>If you have never worked with regular expressions, it can seem like maybe a baby hit the keys on your keyboard (complete gibberish), but it will slowly make sense once you learn the syntax. Soon you will be able create incredibly powerful regular expressions in your day-to-day work.</p>
<h3 id="string-basics">string basics</h3>
<p>In R, you can create (character) strings with either single quotes (<code>'hello!'</code>) or double quotes (<code>"hello!"</code>) – no difference (not true for other languages).</p>
<p>I recommend using the double quotes, unless you want to create a string with multiple <code>"</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>string1</span> <span class='op'>&lt;-</span> <span class='st'>"This is a string"</span>
<span class='va'>string2</span> <span class='op'>&lt;-</span> <span class='st'>'If I want to include a "quote" inside a string, I use single quotes'</span>
</code></pre>
</div>
</div>
<div class="keyideas">
<p><strong>Pro tip</strong>: strings can be tricky when executing them. If you forget to close a quote, you’ll see <code>+</code></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="st">&quot;This is a string without a closing quote</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">+ </span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">+ </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">+ HELP I&#39;M STUCK</span></span></code></pre></div>
</div>
<p>If this happen to you, press Escape and try again</p>
</div>
<p>Multiple strings are often stored in a character vector, which you can create with <code>c()</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"one"</span>, <span class='st'>"two"</span>, <span class='st'>"three"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</code></pre>
</div>
<h1 id="grepl"><code>grepl()</code></h1>
<p>One of the most basic functions in R that uses regular expressions is the <code>grepl(pattern, x)</code> function, which takes two arguments: a regular expression (<code>pattern</code>) and a string to be searched (<code>x</code>).</p>
<p>It literally translates to “grep logical”.</p>
<p>If the string (<code>x</code>) contains the specified regular expression (<code>pattern</code>), then <code>grepl()</code> will return <code>TRUE</code>, otherwise it will return <code>FALSE</code>.</p>
<p>Let’s take a look at one example:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>regular_expression</span> <span class='op'>&lt;-</span> <span class='st'>"a"</span>
<span class='va'>string_to_search</span> <span class='op'>&lt;-</span> <span class='st'>"Maryland"</span>

<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='va'>regular_expression</span>, <span class='va'>string_to_search</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<p>In the example above, we specify the regular expression <code>"a"</code> and store it in a variable called <code>regular_expression</code>.</p>
<p><strong>Remember that regular expressions are just strings!</strong></p>
<p>We also store the string <code>"Maryland"</code> in a variable called <code>string_to_search</code>. The regular expression <code>"a"</code> represents a single occurrence of the character <code>"a"</code>. Since <code>"a"</code> is contained within <code>"Maryland"</code>, <code>grepl()</code> returns the value <code>TRUE</code>.</p>
<p>Let’s try another simple example:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>regular_expression</span> <span class='op'>&lt;-</span> <span class='st'>"u"</span>
<span class='va'>string_to_search</span> <span class='op'>&lt;-</span> <span class='st'>"Maryland"</span>

<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='va'>regular_expression</span>, <span class='va'>string_to_search</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>The regular expression <code>"u"</code> represents a single occurrence of the character <code>"u"</code>, which is not a sub-string of <code>"Maryland"</code>, therefore <code>grepl()</code> returns the value <code>FALSE</code>.</p>
<p>Regular expressions can be much longer than single characters. You could for example search for smaller strings inside of a larger string:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"land"</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"ryla"</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Marly"</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"dany"</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>Since <code>"land"</code> and <code>"ryla"</code> are sub-strings of <code>"Maryland"</code>, <code>grepl()</code> returns <code>TRUE</code>, however when a regular expression like <code>"Marly"</code> or <code>"dany"</code> is searched <code>grepl()</code> returns <code>FALSE</code> because neither are sub-strings of <code>"Maryland"</code>.</p>
<p>There is a dataset that comes with R called <code>state.name</code> which is a vector of strings, one for each state in the United States of America.</p>
<p>We are going to use this vector in several of the following examples.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>state.name</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Alabama&quot;    &quot;Alaska&quot;     &quot;Arizona&quot;    &quot;Arkansas&quot;   &quot;California&quot;
[6] &quot;Colorado&quot;  </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>state.name</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 50</code></pre>
</div>
<p>Let’s build a regular expression for identifying several strings in this vector, specifically a regular expression that will match names of states that both start and end with a vowel.</p>
<p>The state name could start and end with any vowel, so we will not be able to match exact sub-strings like in the previous examples. Thankfully we can use <strong>metacharacters</strong> to look for vowels and other parts of strings.</p>
<h3 id="metacharacters">metacharacters</h3>
<p>The first metacharacter that we will discuss is <code>"."</code>.</p>
<p>The metacharacter that only consists of a period <strong>represents any character other than a new line</strong> (we will discuss new lines soon).</p>
<p>Let’s take a look at some examples using the period regex:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"."</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"."</span>, <span class='st'>"*&amp;2[0+,%&lt;@#~|}"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"."</span>, <span class='st'>""</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>As you can see the period metacharacter is very liberal. This metacharacter is most useful when you do not care about a set of characters in a regular expression.</p>
<p>For example:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"a.b"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"aaa"</span>, <span class='st'>"aab"</span>, <span class='st'>"abb"</span>, <span class='st'>"acadb"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE  TRUE  TRUE  TRUE</code></pre>
</div>
<p>In the case above, <code>grepl()</code> returns <code>TRUE</code> for all strings that contain an <code>a</code> followed by any other character followed by a <code>b</code>.</p>
<h3 id="repetition">repetition</h3>
<p>You can specify a regular expression that contains a certain number of characters or metacharacters using the enumeration metacharacters (or sometimes called <strong>quantifiers</strong>).</p>
<ul>
<li><code>+</code>: indicates that one or more of the preceding expression should be present (or matches at least 1 time)</li>
<li><code>*</code>: indicates that zero or more of the preceding expression is present (or matches at least 0 times)</li>
<li><code>?</code>: indicates that zero or 1 of the preceding expression is not present or present at most 1 time (or matches between 0 and 1 times)</li>
</ul>
<p>Let’s take a look at some examples using these metacharacters:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Maryland" contain one or more of "a" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"a+"</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Maryland" contain one or more of "x" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"x+"</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Maryland" contain zero or more of "x" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"x*"</span>, <span class='st'>"Maryland"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<p>You can also specify exact numbers of expressions using curly brackets <code>{}</code>.</p>
<ul>
<li><code>{n}</code>: exactly n</li>
<li><code>{n,}</code>: n or more</li>
<li><code>{,m}</code>: at most m</li>
<li><code>{n,m}</code>: between n and m</li>
</ul>
<p>For example <code>"a{5}"</code> specifies “a exactly five times”, <code>"a{2,5}"</code> specifies “a between 2 and 5 times,” and <code>"a{2,}"</code> specifies “a at least 2 times.” Let’s take a look at some examples:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Mississippi" contain exactly 2 adjacent "s" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"s{2}"</span>, <span class='st'>"Mississippi"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># This is equivalent to the expression above:</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"ss"</span>, <span class='st'>"Mississippi"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Mississippi" contain between 1 and 3 adjacent "s" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"s{1,3}"</span>, <span class='st'>"Mississippi"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Mississippi" contain between 2 and 3 adjacent "i" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"i{2,3}"</span>, <span class='st'>"Mississippi"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Mississippi" contain between 2 adjacent "iss" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(iss){2}"</span>, <span class='st'>"Mississippi"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Mississippi" contain between 2 adjacent "ss" ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(ss){2}"</span>, <span class='st'>"Mississippi"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Does "Mississippi" contain the pattern of an "i" followed by </span>
<span class='co'># 2 of any character, with that pattern repeated three times adjacently?</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(i.{2}){3}"</span>, <span class='st'>"Mississippi"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<h3 id="capture-group">capture group</h3>
<p>In the last three examples, I used parentheses <code>()</code> to create a <strong>capturing group</strong>. A capturing group allows you to use quantifiers on other regular expressions.</p>
<p>In the last example, I first created the regex <code>"i.{2}"</code> which matches <code>i</code> followed by any two characters (“iss” or “ipp”). Then, I used a capture group to to wrap that regex, and to specify exactly three adjacent occurrences of that regex.</p>
<p>You can specify <strong>sets of characters</strong> (or character sets or character classes) with regular expressions, some of which come built in, but you can build your own character sets too.</p>
<h3 id="character-sets">character sets</h3>
<p>First, we will discuss the built in character sets:</p>
<ul>
<li>words (<code>"\\w"</code>) = Words specify any letter, digit, or a underscore.</li>
<li>digits (<code>"\\d"</code>) = Digits specify the digits 0 through 9</li>
<li>whitespace characters (<code>"\\s"</code>) = whitespace specifies line breaks, tabs, or spaces</li>
</ul>
<p>Each of these character sets have their own compliments:</p>
<ul>
<li>not words (<code>"\\W"</code>)</li>
<li>not digits (<code>"\\D"</code>)</li>
<li>not whitespace characters (<code>"\\S"</code>)</li>
</ul>
<p>Each specifies all of the characters not included in their corresponding character sets.</p>
<div class="keyideas">
<p><strong>Interesting fact</strong>: Technically, you are using the a character set <code>"\d"</code> or <code>"\s"</code> (with only one black slash), but because you are using this character set in a string, you need the second <code>\</code> to escape the string. So you will type <code>"\\d"</code> or <code>"\\s"</code>.</p>
<p>So for example, to include a literal single or double quote in a string you can use <code>\</code> to “escape” the string and being able to include a single or double quote:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>double_quote</span> <span class='op'>&lt;-</span> <span class='st'>"\""</span> <span class='co'># or '"'</span>
<span class='va'>double_quote</span>
</code></pre>
</div>
<pre><code>[1] &quot;\&quot;&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>single_quote</span> <span class='op'>&lt;-</span> <span class='st'>'\''</span> <span class='co'># or "'"Copy</span>
<span class='va'>single_quote</span>
</code></pre>
</div>
<pre><code>[1] &quot;&#39;&quot;</code></pre>
</div>
<p>That means if you want to include a literal backslash, you will need to double it up: <code>"\\"</code>.</p>
</div>
<p>In fact, putting two backslashes before any punctuation mark that is also a metacharacter indicates that you are looking for the symbol and not the metacharacter meaning. For example <code>"\\."</code> indicates you are trying to match a period in a string. Let’s take a look at a few examples:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\+"</span>, <span class='st'>"tragedy + time = humor"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\."</span>, <span class='st'>"https://publichealth.jhu.edu"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<div class="keyideas">
<p><strong>Beware</strong>: the printed representation of a string is not the same as string itself, because the printed representation shows the escapes. To see the raw contents of the string, use <code>writeLines()</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"\'"</span>, <span class='st'>"\""</span>, <span class='st'>"\\"</span><span class='op'>)</span>
<span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] &quot;&#39;&quot;  &quot;\&quot;&quot; &quot;\\&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/writeLines.html'>writeLines</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&#39;
&quot;
\</code></pre>
</div>
<p>There are a handful of other special characters. The most common are “”, newline, and “, tab, but you can see the complete list by requesting help on”: ?‘“’, or ?”’".</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='op'>?</span><span class='st'>"'"</span>
</code></pre>
</div>
</div>
<p>You will also sometimes see strings like “”, this is a way of writing non-English characters that works on all platforms:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"\\t"</span>, <span class='st'>"\\n"</span>, <span class='st'>"\u00b5"</span><span class='op'>)</span>
<span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] &quot;\\t&quot; &quot;\\n&quot; &quot;µ&quot;  </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/writeLines.html'>writeLines</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>\t
\n
µ</code></pre>
</div>
</div>
<p>Let’s take a look at a few examples of built in character sets: <code>"\w"</code>, <code>"\d"</code>, <code>"\s"</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\w"</span>, <span class='st'>"abcdefghijklmnopqrstuvwxyz0123456789"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\d"</span>, <span class='st'>"0123456789"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># "\n" is the metacharacter for a new line</span>
<span class='co'># "\t" is the metacharacter for a tab</span>
<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\s"</span>, <span class='st'>"\n\t   "</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\d"</span>, <span class='st'>"abcdefghijklmnopqrstuvwxyz"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\D"</span>, <span class='st'>"abcdefghijklmnopqrstuvwxyz"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"\\w"</span>, <span class='st'>"\n\t   "</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<h3 id="brackets">brackets</h3>
<p>You can also specify specific character sets using straight brackets <code>[]</code>. For example a character set of just the vowels would look like: <code>"[aeiou]"</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"[aeiou]"</span>, <span class='st'>"rhythms"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>You can find the complement to a specific character by putting a carrot <code>^</code> after the first bracket. For example <code>"[^aeiou]"</code> matches all characters except the lowercase vowels.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"[^aeiou]"</span>, <span class='st'>"rhythms"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<h3 id="ranges">ranges</h3>
<p>You can also specify ranges of characters using a hyphen <code>-</code> inside of the brackets. For example <code>"[a-m]"</code> matches all of the lowercase characters between <code>a</code> and <code>m</code>, while <code>"[5-8]"</code> matches any digit between 5 and 8 inclusive. Let’s take a look at some examples using custom character sets:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"[a-m]"</span>, <span class='st'>"xyz"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"[a-m]"</span>, <span class='st'>"ABC"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"[a-mA-M]"</span>, <span class='st'>"ABC"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<h3 id="beginning-and-end">beginning and end</h3>
<p>There are also metacharacters for matching the beginning and the end of a string which are <code>"^"</code> and <code>"$"</code> respectively. Let’s take a look at a few examples:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"^a"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"bab"</span>, <span class='st'>"aab"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE  TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"b$"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"bab"</span>, <span class='st'>"aab"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"^[ab]*$"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"bab"</span>, <span class='st'>"aab"</span>, <span class='st'>"abc"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
</div>
<h3 id="or-metacharacter">OR metacharacter</h3>
<p>The last metacharacter we will discuss is the OR metacharacter (<code>"|"</code>). The OR metacharacter matches either the regex on the left or the regex on the right side of this character. A few examples:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"a|b"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"abc"</span>, <span class='st'>"bcd"</span>, <span class='st'>"cde"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"North|South"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"South Dakota"</span>, <span class='st'>"North Carolina"</span>, <span class='st'>"West Virginia"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
</div>
<p>Finally, we have learned enough to create a regular expression that matches all state names that both begin and end with a vowel:</p>
<ol type="1">
<li>We match the beginning of a string.</li>
<li>We create a character set of just capitalized vowels.</li>
<li>We specify one instance of that set.</li>
<li>Then any number of characters until:</li>
<li>A character set of just lowercase vowels.</li>
<li>We specify one instance of that set.</li>
<li>We match the end of a string.</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>start_end_vowel</span> <span class='op'>&lt;-</span> <span class='st'>"^[AEIOU]{1}.+[aeiou]{1}$"</span>
<span class='va'>vowel_state_lgl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='va'>start_end_vowel</span>, <span class='va'>state.name</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>vowel_state_lgl</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1]  TRUE  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>state.name</span><span class='op'>[</span><span class='va'>vowel_state_lgl</span><span class='op'>]</span>
</code></pre>
</div>
<pre><code>[1] &quot;Alabama&quot;  &quot;Alaska&quot;   &quot;Arizona&quot;  &quot;Idaho&quot;    &quot;Indiana&quot;  &quot;Iowa&quot;    
[7] &quot;Ohio&quot;     &quot;Oklahoma&quot;</code></pre>
</div>
<p>Below is a table of several important metacharacters:</p>
<div class="layout-chunk" data-layout="l-body">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Metacharacter</th>
<th style="text-align: center;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">.</td>
<td style="text-align: center;">Any Character</td>
</tr>
<tr class="even">
<td style="text-align: center;">\w</td>
<td style="text-align: center;">A Word</td>
</tr>
<tr class="odd">
<td style="text-align: center;">\W</td>
<td style="text-align: center;">Not a Word</td>
</tr>
<tr class="even">
<td style="text-align: center;">\d</td>
<td style="text-align: center;">A Digit</td>
</tr>
<tr class="odd">
<td style="text-align: center;">\D</td>
<td style="text-align: center;">Not a Digit</td>
</tr>
<tr class="even">
<td style="text-align: center;">\s</td>
<td style="text-align: center;">Whitespace</td>
</tr>
<tr class="odd">
<td style="text-align: center;">\S</td>
<td style="text-align: center;">Not Whitespace</td>
</tr>
<tr class="even">
<td style="text-align: center;">[xyz]</td>
<td style="text-align: center;">A Set of Characters</td>
</tr>
<tr class="odd">
<td style="text-align: center;">[^xyz]</td>
<td style="text-align: center;">Negation of Set</td>
</tr>
<tr class="even">
<td style="text-align: center;">[a-z]</td>
<td style="text-align: center;">A Range of Characters</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^</td>
<td style="text-align: center;">Beginning of String</td>
</tr>
<tr class="even">
<td style="text-align: center;">$</td>
<td style="text-align: center;">End of String</td>
</tr>
<tr class="odd">
<td style="text-align: center;">\n</td>
<td style="text-align: center;">Newline</td>
</tr>
<tr class="even">
<td style="text-align: center;">+</td>
<td style="text-align: center;">One or More of Previous</td>
</tr>
<tr class="odd">
<td style="text-align: center;">*</td>
<td style="text-align: center;">Zero or More of Previous</td>
</tr>
<tr class="even">
<td style="text-align: center;">?</td>
<td style="text-align: center;">Zero or One of Previous</td>
</tr>
<tr class="odd">
<td style="text-align: center;">|</td>
<td style="text-align: center;">Either the Previous or the Following</td>
</tr>
<tr class="even">
<td style="text-align: center;">{5}</td>
<td style="text-align: center;">Exactly 5 of Previous</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{2, 5}</td>
<td style="text-align: center;">Between 2 and 5 or Previous</td>
</tr>
<tr class="even">
<td style="text-align: center;">{2, }</td>
<td style="text-align: center;">More than 2 of Previous</td>
</tr>
</tbody>
</table>
</div>
<h1 id="other-regex-in-base-r">Other regex in base R</h1>
<p>So far we’ve been using <code>grepl()</code> to see if a regex matches a string. There are a few other built in regex functions you should be aware of.</p>
<p>First, we will review our workhorse of this lesson, <code>grepl()</code>, which stands for “grep logical.”</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"[Ii]"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Hawaii"</span>, <span class='st'>"Illinois"</span>, <span class='st'>"Kentucky"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
</div>
<h3 id="grep"><code>grep()</code></h3>
<p>Then, there is old fashioned <code>grep(pattern, x)</code>, which returns the indices of the vector that match the regex:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"[Ii]"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Hawaii"</span>, <span class='st'>"Illinois"</span>, <span class='st'>"Kentucky"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1 2</code></pre>
</div>
<h3 id="sub"><code>sub()</code></h3>
<p>The <code>sub(pattern, replacement, x)</code> function takes as arguments a regex, a “replacement,” and a vector of strings. This function will replace the first instance of that regex found in each string.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>sub</a></span><span class='op'>(</span><span class='st'>"[Ii]"</span>, <span class='st'>"1"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Hawaii"</span>, <span class='st'>"Illinois"</span>, <span class='st'>"Kentucky"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Hawa1i&quot;   &quot;1llinois&quot; &quot;Kentucky&quot;</code></pre>
</div>
<h3 id="gsub"><code>gsub()</code></h3>
<p>The <code>gsub(pattern, replacement, x)</code> function is nearly the same as <code>sub()</code> except it will replace every instance of the regex that is matched in each string.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"[Ii]"</span>, <span class='st'>"1"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Hawaii"</span>, <span class='st'>"Illinois"</span>, <span class='st'>"Kentucky"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Hawa11&quot;   &quot;1ll1no1s&quot; &quot;Kentucky&quot;</code></pre>
</div>
<h3 id="strsplit"><code>strsplit()</code></h3>
<p>The <code>strsplit(x, split)</code> function will split up strings (<code>split</code>) according to the provided regex (<code>x</code>) . If <code>strsplit()</code> is provided with a vector of strings it will return a list of string vectors.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>two_s</span> <span class='op'>&lt;-</span> <span class='va'>state.name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"ss"</span>, <span class='va'>state.name</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>two_s</span>
</code></pre>
</div>
<pre><code>[1] &quot;Massachusetts&quot; &quot;Mississippi&quot;   &quot;Missouri&quot;      &quot;Tennessee&quot;    </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/strsplit.html'>strsplit</a></span><span class='op'>(</span><span class='va'>two_s</span>, <span class='st'>"ss"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[[1]]
[1] &quot;Ma&quot;        &quot;achusetts&quot;

[[2]]
[1] &quot;Mi&quot;   &quot;i&quot;    &quot;ippi&quot;

[[3]]
[1] &quot;Mi&quot;   &quot;ouri&quot;

[[4]]
[1] &quot;Tenne&quot; &quot;ee&quot;   </code></pre>
</div>
<h1 id="the-stringr-package">The stringr package</h1>
<p>The <a href="https://github.com/hadley/stringr"><code>stringr</code></a> package, written by <a href="http://hadley.nz/">Hadley Wickham</a>, is part of the <a href="https://twitter.com/hadleywickham/status/751805589425000450">Tidyverse</a> group of R packages. This package takes a “data first” approach to functions involving regex, so usually the string is the first argument and the regex is the second argument. The majority of the function names in <code>stringr</code> begin with <code>str_*()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:stringr"></span>
<img src="https://raw.githubusercontent.com/rstudio/cheatsheets/master/pngs/thumbnails/strings-cheatsheet-thumbs.png" alt="Cheatsheet for stringr R package" width="60%" />
<p class="caption">
Figure 1: Cheatsheet for stringr R package
</p>
</div>
</div>
<p>[<strong>Source</strong>: <a href="https://stringr.tidyverse.org" class="uri">https://stringr.tidyverse.org</a>]</p>
<p>The <code>str_extract(string, pattern)</code> function returns the sub-string of a string (<code>string</code>) that matches the provided regular expression (<code>pattern</code>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span>
<span class='va'>state_tbl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>state.name</span>, <span class='va'>state.area</span>, <span class='va'>state.abb</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>state_tbl</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Alabama 51609 AL&quot;     &quot;Alaska 589757 AK&quot;    
[3] &quot;Arizona 113909 AZ&quot;    &quot;Arkansas 53104 AR&quot;   
[5] &quot;California 158693 CA&quot; &quot;Colorado 104247 CO&quot;  </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_extract.html'>str_extract</a></span><span class='op'>(</span><span class='va'>state_tbl</span>, <span class='st'>"[0-9]+"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;51609&quot;  &quot;589757&quot; &quot;113909&quot; &quot;53104&quot;  &quot;158693&quot; &quot;104247&quot; &quot;5009&quot;  
 [8] &quot;2057&quot;   &quot;58560&quot;  &quot;58876&quot;  &quot;6450&quot;   &quot;83557&quot;  &quot;56400&quot;  &quot;36291&quot; 
[15] &quot;56290&quot;  &quot;82264&quot;  &quot;40395&quot;  &quot;48523&quot;  &quot;33215&quot;  &quot;10577&quot;  &quot;8257&quot;  
[22] &quot;58216&quot;  &quot;84068&quot;  &quot;47716&quot;  &quot;69686&quot;  &quot;147138&quot; &quot;77227&quot;  &quot;110540&quot;
[29] &quot;9304&quot;   &quot;7836&quot;   &quot;121666&quot; &quot;49576&quot;  &quot;52586&quot;  &quot;70665&quot;  &quot;41222&quot; 
[36] &quot;69919&quot;  &quot;96981&quot;  &quot;45333&quot;  &quot;1214&quot;   &quot;31055&quot;  &quot;77047&quot;  &quot;42244&quot; 
[43] &quot;267339&quot; &quot;84916&quot;  &quot;9609&quot;   &quot;40815&quot;  &quot;68192&quot;  &quot;24181&quot;  &quot;56154&quot; 
[50] &quot;97914&quot; </code></pre>
</div>
<p>The <code>str_order(x)</code> function returns a numeric vector that corresponds to the alphabetical order of the strings in the provided vector (<code>x</code>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>state.name</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Alabama&quot;    &quot;Alaska&quot;     &quot;Arizona&quot;    &quot;Arkansas&quot;   &quot;California&quot;
[6] &quot;Colorado&quot;  </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_order.html'>str_order</a></span><span class='op'>(</span><span class='va'>state.name</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22
[23] 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44
[45] 45 46 47 48 49 50</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>state.abb</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;AL&quot; &quot;AK&quot; &quot;AZ&quot; &quot;AR&quot; &quot;CA&quot; &quot;CO&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_order.html'>str_order</a></span><span class='op'>(</span><span class='va'>state.abb</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1]  2  1  4  3  5  6  7  8  9 10 11 15 12 13 14 16 17 18 21 20 19 22
[23] 23 25 24 26 33 34 27 29 30 31 28 32 35 36 37 38 39 40 41 42 43 44
[45] 46 45 47 49 48 50</code></pre>
</div>
<p>The <code>str_pad(string, width, side, pad)</code> function pads strings (<code>string</code>) with other characters, which is often useful when the string is going to be eventually printed for a person to read.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_pad.html'>str_pad</a></span><span class='op'>(</span><span class='st'>"Thai"</span>, width <span class='op'>=</span> <span class='fl'>8</span>, side <span class='op'>=</span> <span class='st'>"left"</span>, pad <span class='op'>=</span> <span class='st'>"-"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;----Thai&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_pad.html'>str_pad</a></span><span class='op'>(</span><span class='st'>"Thai"</span>, width <span class='op'>=</span> <span class='fl'>8</span>, side <span class='op'>=</span> <span class='st'>"right"</span>, pad <span class='op'>=</span> <span class='st'>"-"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Thai----&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_pad.html'>str_pad</a></span><span class='op'>(</span><span class='st'>"Thai"</span>, width <span class='op'>=</span> <span class='fl'>8</span>, side <span class='op'>=</span> <span class='st'>"both"</span>, pad <span class='op'>=</span> <span class='st'>"-"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;--Thai--&quot;</code></pre>
</div>
<p>The <code>str_to_title(string)</code> function acts just like <code>tolower()</code> and <code>toupper()</code> except it puts strings into Title Case.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>cases</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"CAPS"</span>, <span class='st'>"low"</span>, <span class='st'>"Title"</span><span class='op'>)</span>
<span class='fu'><a href='https://stringr.tidyverse.org/reference/case.html'>str_to_title</a></span><span class='op'>(</span><span class='va'>cases</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Caps&quot;  &quot;Low&quot;   &quot;Title&quot;</code></pre>
</div>
<p>The <code>str_trim(string)</code> function deletes white space from both sides of a string.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>to_trim</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"   space"</span>, <span class='st'>"the    "</span>, <span class='st'>"    final frontier  "</span><span class='op'>)</span>
<span class='fu'><a href='https://stringr.tidyverse.org/reference/str_trim.html'>str_trim</a></span><span class='op'>(</span><span class='va'>to_trim</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;space&quot;          &quot;the&quot;            &quot;final frontier&quot;</code></pre>
</div>
<p>The <code>str_wrap(string)</code> function inserts newlines in strings so that when the string is printed each line’s length is limited.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pasted_states</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>state.name</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>20</span><span class='op'>]</span>, collapse <span class='op'>=</span> <span class='st'>" "</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_wrap.html'>str_wrap</a></span><span class='op'>(</span><span class='va'>pasted_states</span>, width <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Alabama Alaska Arizona Arkansas California Colorado Connecticut Delaware Florida
Georgia Hawaii Idaho Illinois Indiana Iowa Kansas Kentucky Louisiana Maine
Maryland</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_wrap.html'>str_wrap</a></span><span class='op'>(</span><span class='va'>pasted_states</span>, width <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Alabama Alaska Arizona
Arkansas California Colorado
Connecticut Delaware Florida
Georgia Hawaii Idaho Illinois
Indiana Iowa Kansas Kentucky
Louisiana Maine Maryland</code></pre>
</div>
<p>The <code>word()</code> function allows you to index each word in a string as if it were a vector.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>a_tale</span> <span class='op'>&lt;-</span> <span class='st'>"It was the best of times it was the worst of times it was the age of wisdom it was the age of foolishness"</span>

<span class='fu'><a href='https://stringr.tidyverse.org/reference/word.html'>word</a></span><span class='op'>(</span><span class='va'>a_tale</span>, <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;was&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/word.html'>word</a></span><span class='op'>(</span><span class='va'>a_tale</span>, end <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;It was the&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://stringr.tidyverse.org/reference/word.html'>word</a></span><span class='op'>(</span><span class='va'>a_tale</span>, start <span class='op'>=</span> <span class='fl'>11</span>, end <span class='op'>=</span> <span class='fl'>15</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;of times it was the&quot;</code></pre>
</div>
<h1 id="post-lecture-materials">Post-lecture materials</h1>
<h3 id="final-questions">Final Questions</h3>
<p>Here are some post-lecture questions to help you think about the material discussed.</p>
<div class="questions">
<p><strong>Questions:</strong></p>
<p>There is a corpus of common words here:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'>stringr</span><span class='fu'>::</span><span class='va'><a href='https://stringr.tidyverse.org/reference/stringr-data.html'>words</a></span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;a&quot;        &quot;able&quot;     &quot;about&quot;    &quot;absolute&quot; &quot;accept&quot;   &quot;account&quot; </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='fu'>stringr</span><span class='fu'>::</span><span class='va'><a href='https://stringr.tidyverse.org/reference/stringr-data.html'>words</a></span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 980</code></pre>
</div>
<ol type="1">
<li>Using <code>stringr::words</code>, create regular expressions that find all words that:</li>
</ol>
<ul>
<li>Start with “y”.</li>
<li>End with “x”</li>
<li>Are exactly three letters long. (Don’t cheat by using str_length()!)</li>
<li>Have seven letters or more.</li>
</ul>
<ol start="2" type="1">
<li>Using the same <code>stringr::words</code>, create regular expressions to find all words that:</li>
</ol>
<ul>
<li>Start with a vowel.</li>
<li>That only contain consonants. (Hint: thinking about matching “not”-vowels.)</li>
<li>End with <code>ed</code>, but not with <code>eed</code>.</li>
<li>End with <code>ing</code> or <code>ise</code>.</li>
</ul>
</div>
<h3 id="additional-resources">Additional Resources</h3>
<div class="resources">
<ul>
<li><a href="https://stringr.tidyverse.org" class="uri">https://stringr.tidyverse.org</a></li>
<li><a href="https://rdpeng.github.io/Biostat776/lecture-regular-expressions.html" class="uri">https://rdpeng.github.io/Biostat776/lecture-regular-expressions.html</a></li>
<li><a href="https://r4ds.had.co.nz/strings.html" class="uri">https://r4ds.had.co.nz/strings.html</a></li>
</ul>
</div>
<div class="sourceCode" id="cb75"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
